{% extends "home/base.html" %}
{% load staticfiles %}
{% load humanize %}

{% block content %}
    <div class="row">
        
        <!-- Carousel -->
        <div class='col-md-12'>
            <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
                <!-- Indicators -->
                <ol class="carousel-indicators">
                    <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
                    <li data-target="#carousel-example-generic" data-slide-to="1"></li>
                    <li data-target="#carousel-example-generic" data-slide-to="2"></li>
                    <li data-target="#carousel-example-generic" data-slide-to="3"></li>
                    <li data-target="#carousel-example-generic" data-slide-to="4"></li>
                </ol>

                <!-- Wrapper for slides -->
                <div class="carousel-inner" role="listbox">
                <div class="item active">
                    <img src="{% static 'home/carousel/alignment.png' %}">
                    <div class="carousel-caption">
                        <h2>Build alignments</h2>
                        <p>Select proteins to align individually or by family. Choose custom sequence segments to
                        include in your alignment.</p>
                    </div>
                </div>
                <div class="item">
                    <img src="{% static 'home/carousel/helix_box.png' %}">
                    <div class="carousel-caption">
                        <h2>Build diagrams</h2>
                        <p>Get helix box and/or snake diagrams with custom coloring for you publications.</p>
                    </div>
                </div>
                <div class="item">
                    <img src="{% static 'home/carousel/pdb_numbering.png' %}">
                    <div class="carousel-caption">
                        <h2>Automatically add generic numbers to PDB files</h2>
                        <p>Upload PDB files and apply GPCRdb generic numbers.</p>
                    </div>
                </div>
                <div class="item">
                    <img src="{% static 'home/carousel/snake_plot.png' %}">
                    <div class="carousel-caption">
                        <h2>Plot experimental values onto diagrams</h2>
                        <p>Highlight residues with available mutant and/or ligand interaction data.</p>
                    </div>
                </div>
                <div class="item">
                    <img src="{% static 'home/carousel/tree.png' %}">
                    <div class="carousel-caption">
                        <h2>Build phylogenetic trees</h2>
                        <p>Customise the sequence segments to use for generating the trees.</p>
                    </div>
                </div>

                <!-- Controls -->
                <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
                    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
                    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>

    </div>

    <div class="row"><div class="col-md-12">&nbsp;</div></div>

    <!-- GPCRdb into -->
    <div class="row">

        <div class="col-md-12">
            <div class="panel panel-primary">
                <div class="panel-body">
                    <div class='col-md-1 text-center'>
                        <img src="{% static 'home/logo/gpcr/main.png' %}" style="height:80px;width:80px;">
                    </div>
                    <div class='col-md-11'>
                        <p><strong>GPCRdb</strong> contains data, diagrams and web tools for G protein-coupled
                        receptors (GPCRs). Users can browse all GPCR crystal structures and the largest collections of
                        receptor mutants. Diagrams can be produced and downloaded to illustrate receptor residues
                        (snake-plot and helix box diagrams) and relationships (phylogenetic trees). Reference (crystal)
                        structure-based sequence alignments take into account helix bulges and constrictions, display
                        statistics of amino acid conservation and have been assigned generic residue numbering for
                        equivalent residues in different receptors. For an overview read the GPCRdb
                        <a href="http://files.gpcrdb.org/GPCRdb_Poster.pdf">poster</a>,
                        <a href="/pages/citing">articles</a> or <a href="/documentation">documentation</a>.</p>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="row">

        <!-- Twitter feed -->
        <div class="col-md-3">
            <a class="twitter-timeline" href="https://twitter.com/gpcrdb" data-widget-id="645958683621498880">Tweets by @gpcrdb</a>
            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
        </div>
        
        <!-- News -->
        <div class="col-md-3">
            <div class="panel panel-primary">
                <div class="panel-body">
                    <h3>Latest <a href="/news">news</a></h3>
                    <ul>
                        {% for item in news %}
                        <li><small>{{ item.html|safe }}</small></li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>

        <!-- What's new -->
        <div class="col-md-3">
            <div class="panel panel-primary">
                <div class="panel-body">
                    <h3>Latest <a href="/pages/releasenotes">release</a></h3>
                    <strong>{{ release_notes.date }}</strong>
                    {{ release_notes.html|safe }}
                </div>
            </div>
        </div>

        <!-- Stats -->
        <div class="col-md-3">
            <div class="panel panel-primary">
                <div class="panel-body">
                    <h3>GPCRdb statistics</h3>
                    <ul>
                    {% for stat in release_statistics %}
                        <li>
                        {{ stat.statistics_type }}: {{ stat.value|intcomma }}
                        <!-- FIXME -->
                        {% if stat.statistics_type|safe == "Human proteins" %} (all non-olfactory){% endif %}
                        </li>
                    {% endfor %}
                    </ul>
                </div>
            </div>
        </div>

    </div>

    <div class="row">
        <!-- Partner databases -->
        <div class='col-md-3'>
            <h4>Partner GPCR databases</h4>
            <p>
                <a href='http://legacy.gpcrdb.org'>Legacy GPCRdb database</a>(Radboudumc Nijmegen),
                <a href='http://www.guidetopharmacology.org'>GuideToPharmacology</a> (IUPHAR),
                <a href='http://www.cmbi.ru.nl/tinygrap/credits'>tinyGRAP</a> (Troms√∏, Norway),
                <a href='http://www.gpcr-okb.org/'>GPCR-OKB</a> (Weill Medical College),
                <a href='http://nava.liacs.nl/'>NaVa</a> (Leiden Uni.)
                and <a href='http://web.expasy.org/docs/swiss-prot_guideline.html'>Swiss-Prot</a>.
            </p>
        </div>

        <div class='col-md-3'>
            <p class="text-center"><a href='http://gloriamgroup.org'>University of Copenhagen</p>
            <p class="text-center"><img src="{% static 'home/logo/uni_cph.png' %}" style="height:100px;width:100px;"></a></p>
        </div>

        <div class='col-md-3'>
            <p>Supported by <a href='http://glisten-gpcr.eu'>GLISTEN</a> (COST Action CM1207)</p>
            <p><a href='http://glisten-gpcr.eu'><img src="{% static 'home/logo/glisten.png' %}" style="height:28px;width:200px;"></a></p>
        </div>

        <!-- Partner servers -->
        <div class='col-md-3'>
            <h4 class="text-center">
                <a href="{{ documentation_url }}external_servers.html">Partner GPCR servers/tools</a>
            </h4>
            <p class="text-center">
                <a href='https://www.esciencecenter.nl/project/3d-e-chem'>3D-e-Chem</a> (VU University Amsterdam),
                <a href='http://gpcrm.biomodellab.eu/'>GPCRM</a> (Uni. Warsaw),
                <a href='http://cheminfo.u-strasbg.fr/scPDB/'>scPDB</a> (Uni. Strasbourg),
                <a href='http://www.ssfa-7tmr.de/ssfe/'>GPCR-SSFE</a> (Leibniz-Institut, Berlin),
                <a href='http://molsim.sci.univr.it/cgi-bin/cona/begin.php'>GoMoDo</a> (Uni. Verona),
                <a href='http://gpcr-modsim.org/'>GPCR-ModSim</a> (Uppsala Uni.).
            </p>
        </div>
        </div>
{% endblock %}