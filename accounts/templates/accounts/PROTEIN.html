{% extends "home/base.html" %} 
{% load staticfiles %} 


{% block content %}

<form method="post" action="{{ action }}" enctype="multipart/form-data">{% csrf_token %}

 <!-- description column -->
 <div class="col-md-4">

     <div class="col-md-12 panel panel-primary" style="background-color:#3278B4;text-align:center;color:white;">   
         <div class="panel-body">
        	<h3 > Simulation Submission<br>Step 1:<br>Protein Information</h3>
         </div> 
     </div>

     <!-- main description -->
     <div class="col-md-12 panel panel-primary">
         <div class="panel-body">

            <div style="text-align:center"> 
             <h4>FILL IN THE PROTEIN FORM</h4>
	    </div>
             <p style="text-align: justify;">Fill in the form with the relevant data concerning the receptor and other proteins involved in the simulation.</p>
             <p style="text-align: justify;">Protein information is linked to a canonical sequence obtained from UniProtKB/Swiss-Prot and identified by a UniProtKB accession number (AC).</p>

 
	     <p style="text-align: justify;">Mutated proteins must be specified by providing wild type UniProtKB AC and mutated sequence. Gaps created by insertions and deletions have to be specified by a hyphen character (‘-’).<p>

	     <p style="text-align: justify;">Several proteins can be added in a single submission but at least one must be a G protein-coupled receptor (GPCR) whose sequence must have been deposited on GPCRdb. </p>

         </div>
     </div>

     <!-- link to docs -->
     <div class="col-md-12 panel panel-primary">
         <div class="panel-body">
             <p>For more information on this form, see the <a alt="Work in progress.">docs</a>.
             </p>
         </div>
     </div>
  </div>
 <!--   _____________________________________________________________________________________________-->

<!-- middle column -->
<div id="pprotform"class="col-md-7 "> 
  <div id="protform" class="col-md-12 panel panel-primary"> 
    <div class="panel-body">
      <div style="text-align:right;color:black" > 
             <h4 id="protlabnum">PROTEIN  #1</h4>
	    </div>

 			<div style="text-align:center">
             			<h4><br>Protein Sequence Details</h4>
            		</div><br>
	        <div class="row">
			<div class="col-md-1"style="height:30px"></div><div class="col-md-3"><label for="id_name"><a title="Name: Recommended name from UniProtKB. ">Name:</a></label></div>
			<div class="col-md-6"><input id="id_name" maxlength="60" name="name" type="text" style="width:300px" placeholder=" 5-HT1B receptor"/></div>
		<br></div>

	        <div class="row">
			<div class="col-md-1"style="height:30px"></div><div class="col-md-3"><label for="id_uniprotkbac"><a title="UniProtKB AC: UniProtKB Accession Number. This value identifies protein to their cannonical sequences. Use only Accession Numbers for cannonical sequences. Mutations are handled in a different field. ">UniProtKB AC:</a></label></div>
			<div class="col-md-6"><input id="id_uniprotkbac" maxlength="10" name="uniprotkbac" style="width:300px" type="text" placeholder=" P28222"/></div>
		<br></div>
			
	        <div class="row">
			<div class="col-md-1"style="height:30px"></div><div class="col-md-3"><label for="id_isoform"><a title="Isoform: Isoform number for a UniProtKB Accession Number. Cannonical sequences have the value '1'.">Isoform:</a></label></div>
			<div class="col-md-3"><input id="id_isoform" name="isoform" type="number" style="width:140px" placeholder=" 1"/></div>
			<div class="col-md-3" style="margin-left:1.5%"><button  style="width:140px;" type="button">Retrieve data</button></div>
		<br></div>
	        <div class="row" style="padding:10px 0px 0px 0px">
			<div class="col-md-1"style="height:30px"></div><div class="col-md-5"><label for="id_receptor"><a title="Receptor: This value must be checked if the protein is a GPCR.">Is it a receptor? </a></label></div>
			<div class="col-md-5"><input id="id_receptor" name="receptor" type="checkbox" /></div>
	        </div>
		<div class="row" style="padding:0px 0px 10px 0px">
			<div class="col-md-1"style="height:30px"></div><div class="col-md-5"><label for="id_is_mutated"><a title="Mutant: This value must be checked if the protein sequence differs from the one identified at UniProtKB by “UniProtKB AC” and “isoform”.">Is it a mutant?</a></label></div>
			<div class="col-md-1"><input id="id_is_mutated" name="is_mutated" type="checkbox" /></div>
		<br></div>

	        <div class="row">
			<div class="col-md-1"style="height:30px"></div><div class="col-md-3"><label for="id_id_species"><a title="Species: Protein sequence species.">Species:</a></label></div>
			<div class="col-md-6"style="height:30px"><select id="id_id_species" name="id_species" style="width:300px" disabled placeholder=" Homo Sapiens">
				<option value="0" selected="selected">Homo Sapiens</option>
				<option value="1">Homo Sapiens</option>
				<option value="2">Other</option>
			</select></div>
		<br></div>

	        <div class="row">
<div class="col-md-1" style="height:30px"></div><div class="col-md-3"><label for="id_other_names"><a title="Aliases: Other names that are obtained from UniProtKB/Swiss-Prot.">Aliases:</a></label></div><div class="col-md-6">
		<textarea cols="40" id="id_other_names" name="other_names" rows="2" style="width:300px" disabled ></textarea></div>
		</div><!--placeholder=" 5-hydroxytryptamine receptor 1B; Serotonin receptor 1B"-->

	        <div class="row">
			<div class="col-md-1"style="height:30px"></div><div class="col-md-3"><label for="id_sequence"><a title="Canonical sequence: Wild-type sequence of the protein in IUPAC one letter code.">Canonical sequence:</a></label></div>
			<div class="col-md-6"><textarea cols="40" id="id_sequence" name="sequence" rows="2" disabled style="width:300px" ></textarea></div>
		<br></div>
<!--placeholder=" MEEPGAQCAPPPPAGSETWVPQANLSSAPSQNCSAKDYIYQDSISLPWKVLLVMLLALITLATTLSNAFVIATVYRTRKLHTPANYLIASLAVTDLLVSILVMPISTMYTVTGRWTLGQVVCDFWLSSDITCCTASILHLCVIALDRYWAITDAVEYSAKRTPKRAAVMIALVWVFSISISLPPFFWRQAKAEEEVSECVVNTDHILYTVYSTVGAFYFPTLLLIALYGRIYVEARSRILKQTPNRTGKRLTRAQLITDSPGSTSSVTSINSRVPDVPSESGSPVYVNQVKVRVSDALLEKKKLMAARERKATKTLGIILGAFIVCWLPFFIISLVMPICKDACWFHLAIFDFFTWLGYLNSLINPIIYTMSNEDFKQAFHKLIRFKCTS"-->

	        <div class="row">
			<div class="col-md-1"style="height:30px"></div><div class="col-md-3"><label for="id_msequence"><a title="Mutant sequence: Contains mutations and deletions indicarted with the hyphen character '-'.">Mutant sequence:</a></label></div>
			<div class="col-md-6"><textarea cols="40" id="id_msequence" name="msequence" autofocus rows="2" style="width:300px" placeholder=" MEEPGAQCAPPPPAGSETWVPQANLSSAPSQNCSAKDYIYQDSISLPWKVLLVMLLALITLATTLSNAFVIATVYRTRKLHTPANYLIASLAVTDLLVSILVMPISTMYTVTGRWTLGQVVCDFWLSSDITCCTASILHLCVIALDRYWAITDAVEYSAKRTPKRAAVMIALVWVFSISISLPPFFWRQAKAEEEVSECVVNTDHILYTVYSTVGAFYFPTLLLIALYGRIYVEARSRILKQTPNRTGKRLTRAQLITDSPGSTSSVTSINSRVPDVPSESGSPVYVNQVKVRVSDALLEKKKLMAARERKATKTLGIILGAFIVCWLPFFIISLVMPICKDACWFHLAIFDFFTWLGYLNSLINPIIYTMSNEDFKQAFHKLIRFKCTS"></textarea></div>
		<br></div>


	        <div class="row" style="height:40px">
 	<div class="col-md-12" style="text-align:center">
	<div class="col-md-4"style="height:30px"></div>	<div class="col-md-5"style="height:30px"><p style="margin-right:30%;margin-left:40%;align:center;padding:5px 5px 5px 5px"><button title="Mutations are identified after comparing the sequence supplied in the 'Sequence' field with the canonical sequence from UniProtKB." style="width:120px;" onclick="addFields()">  Get mutations</button></p></div></div>
		        </div>

			<br>
		<div class=row id='PRUEBA'>
			
 			<div style="text-align:center;height:40px">
             			<h4>Protein Mutations</h4>
            		</div>

                        <table id="tableprot" align='center'>
				<tr>	<th style="width:80px;text-align:center"><label for="id_resid"><a title="Resid: Residue number that its mutated on cannonical protein.">Resid</a></label></th>
					<th style="width:80px;text-align:center"><label for="id_resletter_from"><a title=" Resletter from: Residue name in IUPAC one letter code that is present on cannonical protein. '-' character is used in case of insertions.">Resletter from</a></label></th>
					<th style="width:80px;text-align:center"><label for="id_resletter_to"><a title=" Resletter to: Residue name in IUPAC one letter code that is present on mutated protein. '-' character is used in case of deletions and 'X' for engineered residues.">Resletter to</a></label></th></tr>
					<th style="width:80px;text-align:center"></th></tr>
			 	<div class="row" id='container'>   
				<tr id="protline"> 	<td style="padding:5px 5px 5px 5px"><input style="width:140px;" disabled id="id_resid" name="resid" type="number" /></td> <!--placeholder=" 95"-->
					<td style="padding:5px 5px 5px 5px"><input style="width:140px;" id="id_resletter_from" maxlength="1" disabled name="resletter_from" type="text"  /></td> <!--placeholder=" D" -->
					<td style="padding:5px 5px 5px 5px"><input style="width:140px;" id="id_resletter_to" maxlength="1" disabled name="resletter_to" type="text" /></td>	<!--placeholder=" A"-->	
				</tr>

			</table>
		</div>

<!--	<div class="col-md-6">
		<p style="margin-right:10%;margin-left:40%;padding:5px 5px 5px 5px"><button style="width:120px;" onclick="addFields()" title="Manually requested mutations in the Receptor Mutation section are applied after clicking herein. 'Sequence' field is automatically updated with the mutated sequence."> Apply mutations</button></p>
	</div> -->
			<br>
 			<div style="text-align:center">
			     <input type="button" value="+ Add protein"  style="height:30px;width:300px" onClick="addProtein();">
		        </div> 		
  			<br>
	</div>
   </div>

        <th><input type="submit" value="Submit" /> </th><br>   
</form>

<!--           <div id="selection-buttons"> -->
</div>
<div class="col-md-7 col-md-offset-4"> 
      <div class="col-md-12 panel panel-primary">
          <!--Submit prueba -->
  	  <div class="panel-body" id="selection-">
        	<a id='selection-button' href="/dynadb/molecule/"  class="btn btn-success btn-lg btn-block has-spinner">
            <span class="spinner"><i class="fa fa-spinner fa-spin"></i></span> Continue to step 2: Small Molecule Information </a>
      	  </div>
  	  <div class="panel-body" id="selection-">
        	<a id='selection-button' href="/dynadb/db_inputform/"  class="btn btn-success btn-lg btn-block has-spinner">
            <span class="spinner"><i class="fa fa-spinner fa-spin"></i></span> Back to index </a>
      	  </div>
      </div>


</div>

{% endblock content %}
</form>


{% block addon_js %} 

    <script src="{% static 'dynadb/addProtein.js' %}"></script>

{% endblock %}
